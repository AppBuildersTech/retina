<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>tutorial</title></head><body><article class="markdown-body"><p><strong>Table of Contents</strong> </p>
<ul>
<li><a href="#user-content-retina-package-tutorial">Retina Package Tutorial</a></li>
<li><a href="#user-content-overview">Overview</a><br />
        - <a href="#user-content-questions-errors-and-comments">Questions, Errors, and Comments?</a></li>
<li><a href="#user-content-retinal-data-pre-processing">Retinal data pre-processing</a><ul>
<li><a href="#user-content-1-manually-set-up-a-folder-containing-your-starting-retina-files">1. Manually set up a folder containing your starting retina files</a><ul>
<li><a href="#user-content-create-a-folder-called-diagram_retina-which-will-contain-at-first">Create a folder called &lsquo;diagram_retina&rsquo;, which will contain at first:</a></li>
</ul>
</li>
<li><a href="#user-content-2-manually-make-xyzcsv-a-file-of-cell-counts-with-their-unique-x-and-y-positions">2. Manually make xyz.csv, a file of cell counts with their unique x and y positions.</a></li>
<li><a href="#user-content-3-use-imagej-to-record-outline-vertices-and-calibrate-datapoints">3. Use ImageJ to record outline vertices and calibrate datapoints.</a><ul>
<li><a href="#user-content-trace-the-retinal-outline-to-make-an-outlineroi-file">Trace the retinal outline to make an outline.ROI file</a></li>
<li><a href="#user-content-outline-the-falciform-process">Outline the falciform process</a></li>
<li><a href="#user-content-record-the-imagej-coordinates-of-the-sampling-location-bounds">Record the ImageJ coordinates of the sampling location bounds</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#user-content-4-markup-the-locations-of-retinal-incisions">4. Markup the locations of retinal incisions</a></li>
<li><a href="#user-content-begin-analysis-and-visualization-with-the-retina-package">Begin analysis and visualization with the retina package</a></li>
<li><a href="#user-content-visualization-and-diagnostics">Visualization and Diagnostics</a></li>
<li><a href="#user-content-further-functionality">Further functionality</a></li>
<li><a href="#user-content-saving-to-a-paginated-pdf">Saving to a paginated PDF</a></li>
</ul>
<h1 id="retina-package-tutorial"><a name="user-content-retina-package-tutorial" href="#retina-package-tutorial" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Retina Package Tutorial</h1>
<h1 id="overview"><a name="user-content-overview" href="#overview" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Overview</h1>
<p>You should be able to run the demos below at this point. If not, please follow the <a href="/Users/innovation/Documents/dev/retina/README.md" title="Readme instructions on bcohn12/retina">README Instructions</a><br />
<pre><code class="R">demo('fit_diagnostics')
demo('process_retinas')
demo('retinaplot_demo')
demo('spin_optimization')
</code></pre></p>
<p>This tutorial includes screenshots from a <strong>Mac</strong>. This guide is still very helpful for Windows and Linux users.</p>
<h3 id="questions-errors-and-comments"><a name="user-content-questions-errors-and-comments" href="#questions-errors-and-comments" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Questions, Errors, and Comments?</h3>
<p><a href="https://github.com/bcohn12/retina/issues/new">Submit a quick help ticket</a> or brian_cohn14 (at) pitzer.edu</p>
<h1 id="retinal-data-pre-processing"><a name="user-content-retinal-data-pre-processing" href="#retinal-data-pre-processing" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Retinal data pre-processing</h1>
<h2 id="1-manually-set-up-a-folder-containing-your-starting-retina-files"><a name="user-content-1-manually-set-up-a-folder-containing-your-starting-retina-files" href="#1-manually-set-up-a-folder-containing-your-starting-retina-files" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>1. Manually set up a folder containing your starting retina files</h2>
<h3 id="create-a-folder-called-diagram_retina-which-will-contain-at-first"><a name="user-content-create-a-folder-called-diagram_retina-which-will-contain-at-first" href="#create-a-folder-called-diagram_retina-which-will-contain-at-first" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Create a folder called &lsquo;diagram_retina&rsquo;, which will contain at first:</h3>
<ol>
<li>
<p><code>diagram_retina_screenshot.png</code><br />
A screen shot of the stereology software, showing the sampling locations on top of the retinal outline. </p>
</li>
<li>
<p><code>site_counts_from_stereology.csv</code><br />
2 column file with cell counts for each sampling location. This comes from your stereology software or from manual recording.</p>
</li>
</ol>
<p><img src="tutorial_pix/diagram_retina_screenshot.png" width=400 alt="some_text"> <br />
<img src="tutorial_pix/site_counts_pic.png" width=400 alt="some_text">  </p>
<h2 id="2-manually-make-xyzcsv-a-file-of-cell-counts-with-their-unique-x-and-y-positions"><a name="user-content-2-manually-make-xyzcsv-a-file-of-cell-counts-with-their-unique-x-and-y-positions" href="#2-manually-make-xyzcsv-a-file-of-cell-counts-with-their-unique-x-and-y-positions" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>2. Manually make <code>xyz.csv</code>, a file of cell counts with their unique <code>x</code> and <code>y</code> positions.</h2>
<p>You’ll do this by using the <code>site_counts_from_stereology.csv</code> and the <code>diagram_retina_screenshot.png</code> to assign <code>x</code> and <code>y</code> values.</p>
<p><img alt="Image of mapping to xyz" src="/Users/innovation/Documents/dev/retina/tutorial_pix/make_xyz_mapping.png" title="Example" /></p>
<blockquote>
<p><strong>Example 1 (above)</strong> Sampling location 13 is at the location <code>x=5</code>, <code>y=4</code>, because the sampling location is in the top left center of the box in the 4th row, at the 1st column. The <code>site_counts_from_stereology.csv</code> shows us that <code>z=10</code>.  </p>
<p><strong>Example 2</strong> Sampling location 5 is at (7,5). The sampling file says there&rsquo;s 3 cells at location 5. The row in xyz.csv for this sampling location would be <code>x=7</code>,<code>y=5</code>,<code>z=3</code>.  </p>
</blockquote>
<p>The origin <code>(1,1)</code> is the bottom left corner of the grid, where <code>x</code> is the column (vertical), and <code>y</code> is the row (horizontal).<br />
You should finish filling out a three column csv, with the three columns named (without quotes) &ldquo;x&rdquo; &ldquo;y&rdquo; &ldquo;z&rdquo; . Number of rows (excluding the header) will be equal to the number of sampling locations.<br />
<img alt="Image of xyz.csv_example" src="/Users/innovation/Documents/dev/retina/tutorial_pix/xyz_template.png" title="Example" /></p>
<p>Save this as <code>xyz.csv</code> in the &lsquo;diagram_retina&rsquo; folder.</p>
<h2 id="3-use-imagej-to-record-outline-vertices-and-calibrate-datapoints"><a name="user-content-3-use-imagej-to-record-outline-vertices-and-calibrate-datapoints" href="#3-use-imagej-to-record-outline-vertices-and-calibrate-datapoints" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>3. Use ImageJ to record outline vertices and calibrate datapoints.</h2>
<p>Install <a href="http://imagej.nih.gov/ij/download.html" title="Download link">ImageJ</a> (for PC/Mac/Linux.<br />
Open <code>diagram_retina_screenshot.png</code></p>
<h3 id="trace-the-retinal-outline-to-make-an-outlineroi-file"><a name="user-content-trace-the-retinal-outline-to-make-an-outlineroi-file" href="#trace-the-retinal-outline-to-make-an-outlineroi-file" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Trace the retinal outline to make an outline.ROI file</h3>
<p><img alt="Select the polygon" src="/Users/innovation/Documents/dev/retina/tutorial_pix/select_polygon.png" title="Select the polygon tool in ImageJ" /><br />
Select the polygon selection tool<br />
<img alt="Finish tracing the polygon" src="/Users/innovation/Documents/dev/retina/tutorial_pix/polygon_tracing.png" title="" />  </p>
<p>Click to add connected points along the retinal outline, being extra careful with the incision slits. You can come back to this step in the workflow and improve the accuracy of the outline later.  </p>
<p><img alt="Select the polygon" src="/Users/innovation/Documents/dev/retina/tutorial_pix/finished_tracing.png" title="Select the polygon tool in ImageJ" />  </p>
<p>Come full circle back to the point your started with, and it should change colors to indicate that you&rsquo;re all finished with polygon drawing.</p>
<p><img alt="Select ROI" src="/Users/innovation/Documents/dev/retina/tutorial_pix/roi_select.png" title="" /><br />
From the menubar, select Analyze, Tools, ROI Manager. </p>
<p><img alt="Save Roi" src="/Users/innovation/Documents/dev/retina/tutorial_pix/save_roi.png" title="" /><br />
A window will pop up with some buttons. Press the &ldquo;Add [t]&rdquo; button, then press the More button. Select &ldquo;Save&rdquo;<br />
save it as <code>outline.ROI</code> in the <code>/diagram_retina</code> folder.<br />
Fresh slate: Close the image, exit ImageJ, start ImageJ again, and open <code>diagram_retina_screenshot.png</code>.</p>
<h3 id="outline-the-falciform-process"><a name="user-content-outline-the-falciform-process" href="#outline-the-falciform-process" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Outline the falciform process</h3>
<p><img alt="Trace the falciform process" src="/Users/innovation/Documents/dev/retina/tutorial_pix/falc_traced.png" title="" />  </p>
<p>This time, use the same polygon tool to make an outline of just the falciform process/optic disk (the entire black shape in the middle of the retina).</p>
<p><img alt="Trace the falciform process" src="/Users/innovation/Documents/dev/retina/tutorial_pix/menu_xy_coords.png" title="" /><br />
Once you&rsquo;ve drawn the outline, <strong>Don&rsquo;t save the falciform as .ROI.</strong>.<br />
Choose File &gt; Save As &gt; XY Coordinates&hellip; <br />
Save as <code>falc.txt</code> to the <code>/diagram_retina</code> folder. </p>
<h3 id="record-the-imagej-coordinates-of-the-sampling-location-bounds"><a name="user-content-record-the-imagej-coordinates-of-the-sampling-location-bounds" href="#record-the-imagej-coordinates-of-the-sampling-location-bounds" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Record the ImageJ coordinates of the sampling location bounds</h3>
<p><img alt="Minx" src="/Users/innovation/Documents/dev/retina/tutorial_pix/minx.png" title="" /><br />
Find the coordinates of the outermost sampling locations. Hover with your mouse and look at the live-updated (x,y) coordinates in the tool bar.<br />
<strong>minX Example</strong> Sampling location 10 is the furthest point to the left, and it&rsquo;s at <code>x=25</code>.<br />
<strong>maxX Example</strong> Sampling locations 5, 15, and 16 are on the far right, and share the same edge. They all have <code>x=566</code>, so set <code>maxX</code> to <code>566</code>.<br />
<strong>NOTE</strong> Convert both minY and maxY so they are negative numbers (even though they may look like they&rsquo;re positive in ImageJ.<br />
Write down the minX, maxX, minY, maxY somewhere safe. You&rsquo;ll use it when you call the retina_object function.</p>
<pre><code class="R"># Here are ImageJ coordinates I recorded for a reef fish 
# specimen: http://en.wikipedia.org/wiki/Novaculichthys_taeniourus

IJ&lt;-data.frame(minX   = 42,         # leftmost counting location's X value 
               maxX   = 597,        # rightmost counting location's X value
               deltaX = (597-42)/17,# average ImageJ pixel distance (in the X axis) between counting locations.
               minY   = -584,       # bottommost counting location's Y value
               maxY   = -32,        # topmost counting location's Y value
               deltaY = (584-32)/17 # average ImageJ pixel distance (in the Y axis) between counting locations.
               ) 
</code></pre>

<h1 id="4-markup-the-locations-of-retinal-incisions"><a name="user-content-4-markup-the-locations-of-retinal-incisions" href="#4-markup-the-locations-of-retinal-incisions" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>4. Markup the locations of retinal incisions</h1>
<p><img alt="Set Working Directory" src="/Users/innovation/Documents/dev/retina/tutorial_pix/setwd.png" title="" /><br />
Open the R Console, load the <strong>retina</strong> package, and set the working directry to the folder enclosing the <code>diagram_retina</code> folder.<br />
<pre><code class="R">library(retina)
</code></pre></p>
<p><pre><code class="R">retistruct() #open the retistruct graphic user interface
</code></pre><br />
<img alt="Retistruct Gui" src="/Users/innovation/Documents/dev/retina/tutorial_pix/retistruct_gui_open.png" title="" /><br />
Press <code>Open</code> and navigate to the <code>diagram_retina</code> folder on your hard drive.<br />
Ignore this error message: <code>Scale file does not exist. Scale bar will not be set.</code></p>
<p><img alt="Minx" src="/Users/innovation/Documents/dev/retina/tutorial_pix/markup_retistruct.png" title="" /><br />
Instructions for marking up the retina [Sterratt et al 2013]:  </p>
<blockquote>
<p><strong>Add tear</strong> To add a tear, click on this button, then click on three points in turn which define a tear. The order in which the points are added does not matter. Tears contained within a tear can be marked up, but tears cannot cross over one another.<br />
<strong>Move Point</strong> To move one of the points defining a tear, click on this button, then click on the point which you desire to move, then click on the point to which it should be moved.<br />
<strong>Remove tear</strong> To remove a tear, click on this button, then click on the apex of the tear (marked in cyan on the plot)<br />
<strong>Mark nasal</strong> To mark the nasal pole, click on this button, then click on the point which is the nasal pole. If the nasal or dorsal pole has already been marked, the marker is removed from the existing location. The nasal pole should not be in a tear. If the nasal tear is placed within a tear, no error is reported at this stage, but it will be reported later.  </p>
</blockquote>
<h3 id="optional-adding-retinal-perimeter-latitude-for-highly-non-hemispherical-retinae"><a name="user-content-optional-adding-retinal-perimeter-latitude-for-highly-non-hemispherical-retinae" href="#optional-adding-retinal-perimeter-latitude-for-highly-non-hemispherical-retinae" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Optional: Adding retinal perimeter latitude for highly non-hemispherical retinae</h3>
<p>If you would like to set the Retinal perimeter latitude, paste it into the phi0 box (in units of degrees).<br />
We include the retinal_arclen function to help users make an approximation of this value with recorded eye measurements.</p>
<h4 id="sample-calculation"><a name="user-content-sample-calculation" href="#sample-calculation" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Sample calculation</h4>
<pre><code class="R">ED = 4.8
AL = 3.43
retinal_phi0(ED, AL)
</code></pre>

<hr />
<h1 id="begin-analysis-and-visualization-with-the-retina-package"><a name="user-content-begin-analysis-and-visualization-with-the-retina-package" href="#begin-analysis-and-visualization-with-the-retina-package" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Begin analysis and visualization with the retina package</h1>
<p><img alt="Minx" src="/Users/innovation/Documents/dev/retina/tutorial_pix/newRfile.png" title="" /><br />
Create a new R Document, and work with the code snippets below to set up your retinal processing script.</p>
<p>Set your parameters<br />
<pre><code class="R">LAMBDA_var &lt;- 0.001 #Thin plate spline smoothing. Lambda=0 would be interpolation.
RESOLUTION_var &lt;- 500 #Plot width in pixels
</code></pre></p>
<p>You need to replace these sample numbers with the values you recorded from ImageJ:<br />
<pre><code class="R">IJ &lt;-data.frame(maxX = 1437,
                maxY = -45,
                minX = 469,
                minY = -1029,
                deltaX = 60,
                deltaY = 61)
</code></pre></p>
<p>Assemble the retina into a cohesive list object<br />
<pre><code class="R">my_retina &lt;- retina_object(
    path = &quot;diagram_retina&quot;,

    #Eye Measurements from dissection
        ED = 4.8,    #Eye diameter (mm)
        AL = 3.43,   #Eye axial length (mm)
        LD = 1.8,    #Eye lens diameter (mm)

    #Stereology Parameters 
        height = 25 ,# height of the counting frame in microns
        width  = 25, # width of the counting frame in microns

    #Plotting Parameters
        lambda = LAMBDA_var,          #see fields::Tps for more information
        extrapolate = TRUE ,          #Predicts densities to the equator.
        spatial_res = RESOLUTION_var,
        rotation_ccw = -90, # when set to -90 degrees, the rotation is unaltered from the measured orientation.
        plot_suppress=TRUE,
    #ImageJ Datapoint Calibration Measurements
        IJcoords = IJ)
</code></pre></p>
<h1 id="visualization-and-diagnostics"><a name="user-content-visualization-and-diagnostics" href="#visualization-and-diagnostics" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Visualization and Diagnostics</h1>
<pre><code class="R">retinaplot(my_retina) ##Plot the retina

#Compute the retinal perimeter, to define the width of the plot in mm.
ret_perimeter_len &lt;- semi_ellipse_perimeter(a=ED, b=AL)/2 

#Fit diagnostics
fit_plots(my_retina$fit_data1)
</code></pre>

<p>How to run your code:<br />
<img alt="Minx" src="/Users/innovation/Documents/dev/retina/tutorial_pix/source_or_run_line.png" title="" />  </p>
<h1 id="further-functionality"><a name="user-content-further-functionality" href="#further-functionality" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Further functionality</h1>
<pre><code class="R">?composite_map              #make an average of 2 maps
?vector_retina_composite    #make an average of 3+ maps
?polynomial_vs_lambda       #compare smoothing parameters on your map
</code></pre>

<h1 id="saving-to-a-paginated-pdf"><a name="user-content-saving-to-a-paginated-pdf" href="#saving-to-a-paginated-pdf" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Saving to a paginated PDF</h1>
<pre><code class="R">pdf(&quot;maps.pdf&quot;, width=8.5, height=6)
#Plot retina(s)
dev.off()
</code></pre></article></body></html>